{"version":3,"file":"static/js/718.f3adc117.chunk.js","mappings":"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","sources":["components/ListItem/ListItem.js","components/ListItem/ListItem.styled.js","components/MoviesPage/MoviesPage.js","components/MoviesPage/MoviesPage.styled.js","services/movie-api.js"],"sourcesContent":["import PropTypes from \"prop-types\";\nimport { ListItemStyled, Link } from \"./ListItem.styled\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ListItem({ item: { id, title, name } }) {\n  const location = useLocation();\n  const currentState = { from: location };\n\n  return (\n    <ListItemStyled>\n      {\n        <Link to={`/movies/${id}`} state={currentState}>\n          {title || name}\n        </Link>\n      }\n    </ListItemStyled>\n  );\n}\n\nListItem.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string,\n    name: PropTypes.string,\n  }),\n};\n","import styled from \"styled-components\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nexport const ListItemStyled = styled.li`\n  max-width: 200px;\n`;\n\nexport const Link = styled(RouterLink)`\n  text-decoration: none;\n  color: black;\n\n  &:hover {\n    color: blue;\n    text-decoration: underline;\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { FaSearch } from \"react-icons/fa\";\nimport PropTypes from \"prop-types\";\nimport ListItem from \"components/ListItem/ListItem\";\nimport { Status } from \"utils/makeChunk\";\nimport { useLocation, useSearchParams } from \"react-router-dom\";\n\nimport {\n  SearchbarStyled,\n  SearchFormStyled,\n  SearchFormButtonStyled,\n  SearchFormButtonSpanStyled,\n  SearchFormInputStyled,\n  SearchFormButtonLabelStyled,\n  MoviesListDivStyled,\n  MoviesListStyled,\n  GoBackLink,\n} from \"./MoviesPage.styled\";\nimport { getSearchMovies } from \"services/movie-api\";\n\nfunction Searchbar({ status }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [, setSearchParams] = useSearchParams();\n\n  const inputQueryChange = (e) => {\n    setSearchQuery(e.target.value.toLowerCase());\n  };\n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    const formQuery = searchQuery.trim();\n    if (formQuery === \"\") {\n      setSearchParams({});\n      toast.error(\"Please type your query request\");\n      return;\n    }\n    setSearchParams({ query: formQuery });\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <SearchbarStyled>\n      <SearchFormStyled onSubmit={formSubmit}>\n        <SearchFormButtonLabelStyled>\n          <SearchFormInputStyled\n            name=\"searchQuery\"\n            value={searchQuery}\n            onChange={inputQueryChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n          />\n        </SearchFormButtonLabelStyled>\n        <SearchFormButtonStyled type=\"submit\" disabled={status === \"pending\"}>\n          <FaSearch />\n          <SearchFormButtonSpanStyled>Search</SearchFormButtonSpanStyled>\n        </SearchFormButtonStyled>\n      </SearchFormStyled>\n    </SearchbarStyled>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n  status: PropTypes.string,\n};\n\nexport default function MoviesPage({ onSubmit, status, page, setStatus }) {\n  const [searchMovies, setSearchMovies] = useState(null);\n  const location = useLocation();\n  const [searchParams] = useSearchParams();\n  const query = searchParams.get(\"query\");\n\n  useEffect(() => {\n    if (query) {\n      setStatus(Status.PENDING);\n      getSearchMovies(query, page)\n        .then((newSearchMovies) => {\n          if (!newSearchMovies?.results?.length) {\n            toast(`No results for ${query}`);\n          }\n          setSearchMovies(newSearchMovies);\n          setStatus(Status.RESOLVED);\n        })\n        .catch((error) => toast(\"No results, please try again\"));\n    }\n  }, [page, query, setStatus]);\n\n  useEffect(() => {\n    return () => {\n      setSearchMovies(null);\n    };\n  }, []);\n\n  const hasRequestMovies = searchMovies?.results?.length > 0;\n  const goBackURL = location?.state?.from ?? \"/\";\n  return (\n    <MoviesListDivStyled>\n      <Searchbar onSubmit={onSubmit} status={status} />\n      <GoBackLink to={goBackURL}>&lArr; Go back</GoBackLink>\n      {hasRequestMovies && (\n        <MoviesListStyled>\n          {hasRequestMovies &&\n            searchMovies.results.map((item) => <ListItem key={item.id} item={item} />)}\n        </MoviesListStyled>\n      )}\n    </MoviesListDivStyled>\n  );\n}\n\nMoviesPage.propTypes = {\n  onSubmit: PropTypes.func,\n  status: PropTypes.string,\n  query: PropTypes.string,\n  page: PropTypes.number,\n  setStatus: PropTypes.func,\n};\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\n\nexport const MoviesListStyled = styled.ul`\n  list-style: none;\n  background: linear-gradient(45deg, #fff1eb, #ace0f9);\n  opacity: 0.9;\n  border-radius: 8px;\n  width: fit-content;\n  padding: 40px;\n`;\n\nexport const MoviesListDivStyled = styled.div`\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-left: 40px;\n`;\n\nexport const SearchbarStyled = styled.header`\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding: 12px 24px 12px 24px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  border-radius: 8px;\n  margin-right: 40px;\n`;\n\nexport const SearchFormStyled = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 8px;\n  overflow: hidden;\n`;\n\nexport const SearchFormButtonStyled = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.9;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    opacity: 1;\n  }\n`;\n\nexport const SearchFormButtonSpanStyled = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const SearchFormButtonLabelStyled = styled.label`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\n\nexport const SearchFormInputStyled = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 16px;\n  padding-right: 4px;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport const GoBackLink = styled(Link)`\n  display: inline-block;\n  width: 130px;\n  padding: 6px 6px 6px 6px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  border-radius: 8px;\n  box-shadow: 2px 3px 4px 1px rgba(33, 33, 33, 0.21);\n  font-weight: 700;\n  text-decoration: none;\n  text-transform: uppercase;\n  background: linear-gradient(45deg, #fff1eb, #ace0f9);\n  border: 4px ridge rgba(33, 33, 33, 0.21);\n  cursor: pointer;\n  color: black;\n  text-align: center;\n\n  &:hover {\n    color: #2156f0;\n    background: white;\n  }\n`;\n","import axios from \"axios\";\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\nconst MOVIE_API_KEY = \"a89b03c28f1cd3b25a7da78bf74e4fe0\";\n\nasync function getMoviesOrError(url, query = \"\") {\n  const response = await axios.get(url);\n  return !response?.data\n    ? Promise.reject(new Error(`No results for query ${query}`))\n    : response.data;\n}\n\nexport async function getTrendingDayMovies(page = 1) {\n  return await getMoviesOrError(\n    `/trending/movie/day?api_key=${MOVIE_API_KEY}&page=${page}&include_adult=false`,\n  );\n}\n\nexport async function getSearchMovies(query, page = 1) {\n  return await getMoviesOrError(\n    `/search/movie?query=${query}&api_key=${MOVIE_API_KEY}&page=${page}&include_adult=false`,\n  );\n}\n\nexport async function getMovieDetails(movieId) {\n  return await getMoviesOrError(`/movie/${movieId}?api_key=${MOVIE_API_KEY}`);\n}\n\nexport async function getMovieCredits(movieId) {\n  return await getMoviesOrError(`/movie/${movieId}/credits?api_key=${MOVIE_API_KEY}`);\n}\n\nexport async function getMovieReviews(movieId, page = 1) {\n  return await getMoviesOrError(`/movie/${movieId}/reviews?api_key=${MOVIE_API_KEY}&page=${page}`);\n}\n"],"names":["ListItem","item","id","title","name","currentState","from","useLocation","ListItemStyled","Link","to","state","styled","RouterLink","Searchbar","status","useState","searchQuery","setSearchQuery","useSearchParams","setSearchParams","SearchbarStyled","SearchFormStyled","onSubmit","e","preventDefault","formQuery","trim","toast","query","SearchFormButtonLabelStyled","SearchFormInputStyled","value","onChange","target","toLowerCase","type","autoComplete","autoFocus","placeholder","SearchFormButtonStyled","disabled","SearchFormButtonSpanStyled","MoviesPage","page","setStatus","searchMovies","setSearchMovies","location","get","useEffect","Status","getSearchMovies","then","newSearchMovies","results","length","catch","error","hasRequestMovies","goBackURL","MoviesListDivStyled","GoBackLink","MoviesListStyled","map","axios","MOVIE_API_KEY","getMoviesOrError","url","response","data","Promise","reject","Error","getTrendingDayMovies","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}