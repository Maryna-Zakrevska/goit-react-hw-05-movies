{"version":3,"file":"static/js/718.793b3679.chunk.js","mappings":"uNAEe,SAASA,EAAT,GAMX,IAAD,IALDC,KACEC,EAID,EAJCA,GACAC,EAGD,EAHCA,MACAC,EAED,EAFCA,KAIF,OACE,yBACG,SAAC,KAAD,CAAMC,GAAE,kBAAaH,GAArB,SAA4BC,GAASC,Q,kLCQ5C,SAASE,EAAT,GAA0C,IAArBC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,OAC7B,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KAiBA,OACE,SAAC,EAAAC,gBAAD,WACE,UAAC,EAAAC,iBAAD,CAAkBN,SAbH,SAACO,GAClBA,EAAEC,iBACF,IAAMC,EAAYN,EAAYO,OACZ,KAAdD,GAIJT,EAASS,GACTL,EAAe,KAJbO,EAAAA,GAAAA,MAAY,mCASZ,WACE,SAAC,EAAAC,4BAAD,WACE,SAAC,EAAAC,sBAAD,CACEhB,KAAK,cACLiB,MAAOX,EACPY,SAtBe,SAACR,GACxBH,EAAeG,EAAES,OAAOF,MAAMG,gBAsBtBC,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,qBAGhB,UAAC,EAAAC,uBAAD,CAAwBJ,KAAK,SAASK,SAAqB,YAAXtB,EAAhD,WACE,SAAC,MAAD,KACA,SAAC,EAAAuB,2BAAD,6BAYK,SAASC,EAAT,GAAmE,IAAD,MAA5CzB,EAA4C,EAA5CA,SAAUC,EAAkC,EAAlCA,OAAQyB,EAA0B,EAA1BA,MAAOC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,UAClE,GAAwC1B,EAAAA,EAAAA,UAAS,MAAjD,eAAO2B,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,OACjBC,EAAAA,EAAAA,YAAU,WACO,KAAVP,IAGLE,EAAUM,EAAAA,EAAAA,UACVC,EAAAA,EAAAA,IAAgBT,EAAOC,GACpBS,KAAKN,EAAiBF,EAAUM,EAAAA,EAAAA,WAChCG,OAAM,SAACC,GAAD,OAAW3B,EAAAA,EAAAA,IAAM,sCACzB,CAACgB,EAAMD,EAAME,IAChB,IAAMW,GAA+B,OAAZV,QAAY,IAAZA,GAAA,UAAAA,EAAcW,eAAd,eAAuBC,QAAS,EACnDC,EAAS,iBAAGX,QAAH,IAAGA,GAAH,UAAGA,EAAUY,aAAb,aAAG,EAAiBC,YAApB,QAA4B,IAC3C,OACE,4BACE,SAAC7C,EAAD,CAAWC,SAAUA,EAAUC,OAAQA,KACvC,SAAC,KAAD,CAAMH,GAAI4C,EAAV,6BACA,wBACGH,GACCV,EAAaW,QAAQK,KAAI,SAACnD,GAAD,OAAU,SAAC,UAAD,CAAwBA,KAAMA,GAAfA,EAAKC,c,2UCpF3DU,EAAkByC,EAAAA,GAAAA,OAAH,icAmBfxC,EAAmBwC,EAAAA,GAAAA,KAAH,8KAUhBxB,EAAyBwB,EAAAA,GAAAA,OAAH,iVAkBtBtB,EAA6BsB,EAAAA,GAAAA,KAAH,6MAY1BlC,EAA8BkC,EAAAA,GAAAA,MAAH,sGAO3BjC,EAAwBiC,EAAAA,GAAAA,MAAH,8P","sources":["components/ListItem/ListItem.js","components/MoviesPage/MoviesPage.js","components/MoviesPage/MoviesPage.styled.js"],"sourcesContent":["import { Link } from 'react-router-dom';\n\nexport default function ListItem({\n  item: {\n    id,\n    title,\n    name,\n  },\n}) {\n  \n  return (\n    <li>\n      {<Link to={`/movies/${id}`}>{title || name}</Link>}\n    </li>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { FaSearch } from \"react-icons/fa\";\nimport PropTypes from \"prop-types\";\nimport ListItem from \"components/ListItem/ListItem\";\nimport { Status } from \"utils/makeChunk\";\nimport { useLocation } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\n\nimport {\n  SearchbarStyled,\n  SearchFormStyled,\n  SearchFormButtonStyled,\n  SearchFormButtonSpanStyled,\n  SearchFormInputStyled,\n  SearchFormButtonLabelStyled,\n} from \"./MoviesPage.styled\";\nimport { getSearchMovies } from \"services/movie-api\";\n\nfunction Searchbar({ onSubmit, status }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const inputQueryChange = (e) => {\n    setSearchQuery(e.target.value.toLowerCase());\n  };\n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    const formQuery = searchQuery.trim();\n    if (formQuery === \"\") {\n      toast.error(\"Please type your query request\");\n      return;\n    }\n    onSubmit(formQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <SearchbarStyled>\n      <SearchFormStyled onSubmit={formSubmit}>\n        <SearchFormButtonLabelStyled>\n          <SearchFormInputStyled\n            name=\"searchQuery\"\n            value={searchQuery}\n            onChange={inputQueryChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n          />\n        </SearchFormButtonLabelStyled>\n        <SearchFormButtonStyled type=\"submit\" disabled={status === \"pending\"}>\n          <FaSearch />\n          <SearchFormButtonSpanStyled>Search</SearchFormButtonSpanStyled>\n        </SearchFormButtonStyled>\n      </SearchFormStyled>\n    </SearchbarStyled>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n  status: PropTypes.string,\n};\n\nexport default function MoviesPage({ onSubmit, status, query, page, setStatus }) {\n  const [searchMovies, setSearchMovies] = useState(null);\n  const location = useLocation();\n  useEffect(() => {\n    if ((query === '')) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    getSearchMovies(query, page)\n      .then(setSearchMovies, setStatus(Status.RESOLVED)) \n      .catch((error) => toast(\"No results, please try again\"));\n  }, [page, query,setStatus]);\n  const hasRequestMovies = searchMovies?.results?.length > 0;\n  const goBackURL = location?.state?.from ?? \"/\";\n  return (\n    <div>\n      <Searchbar onSubmit={onSubmit} status={status} />\n      <Link to={goBackURL}>&lArr; Go back</Link>\n      <ul>\n        {hasRequestMovies &&\n          searchMovies.results.map((item) => <ListItem key={item.id} item={item} />)}\n      </ul>\n    </div>\n  );\n}\n\nMoviesPage.propTypes = {\n  onSubmit: PropTypes.func,\n  status: PropTypes.string,\n  query:PropTypes.string, \n  page:PropTypes.number,\n};\n","import styled from \"styled-components\";\n\nconst SearchbarStyled = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst SearchFormStyled = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst SearchFormButtonStyled = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchFormButtonSpanStyled = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst SearchFormButtonLabelStyled = styled.label`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\n\nconst SearchFormInputStyled = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 16px;\n  padding-right: 4px;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport {\n  SearchbarStyled,\n  SearchFormStyled,\n  SearchFormButtonStyled,\n  SearchFormButtonSpanStyled,\n  SearchFormInputStyled,\n  SearchFormButtonLabelStyled\n};\n"],"names":["ListItem","item","id","title","name","to","Searchbar","onSubmit","status","useState","searchQuery","setSearchQuery","SearchbarStyled","SearchFormStyled","e","preventDefault","formQuery","trim","toast","SearchFormButtonLabelStyled","SearchFormInputStyled","value","onChange","target","toLowerCase","type","autoComplete","autoFocus","placeholder","SearchFormButtonStyled","disabled","SearchFormButtonSpanStyled","MoviesPage","query","page","setStatus","searchMovies","setSearchMovies","location","useLocation","useEffect","Status","getSearchMovies","then","catch","error","hasRequestMovies","results","length","goBackURL","state","from","map","styled"],"sourceRoot":""}