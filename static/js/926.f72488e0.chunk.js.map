{"version":3,"file":"static/js/926.f72488e0.chunk.js","mappings":"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","sources":["components/ListItem/ListItem.js","components/MoviesPage/MoviesPage.js","components/MoviesPage/MoviesPage.styled.js","services/movie-api.js"],"sourcesContent":["import { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types'\n\nexport default function ListItem({\n  item: {\n    id,\n    title,\n    name,\n  },\n}) {\n  \n  return (\n    <li>\n      {<Link to={`/movies/${id}`}>{title || name}</Link>}\n    </li>\n  );\n}\n\nListItem.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string,\n    name: PropTypes.string,\n  }),\n};\n","import React, { useState, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { FaSearch } from \"react-icons/fa\";\nimport PropTypes from \"prop-types\";\nimport ListItem from \"components/ListItem/ListItem\";\nimport { Status } from \"utils/makeChunk\";\nimport { useLocation } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\n\n\nimport {\n  SearchbarStyled,\n  SearchFormStyled,\n  SearchFormButtonStyled,\n  SearchFormButtonSpanStyled,\n  SearchFormInputStyled,\n  SearchFormButtonLabelStyled,\n} from \"./MoviesPage.styled\";\nimport { getSearchMovies } from \"services/movie-api\";\n\nfunction Searchbar({ onSubmit, status }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const inputQueryChange = (e) => {\n    setSearchQuery(e.target.value.toLowerCase());\n  };\n\n  const formSubmit = (e) => {\n    e.preventDefault();\n    const formQuery = searchQuery.trim();\n    if (formQuery === \"\") {\n      toast.error(\"Please type your query request\");\n      return;\n    }\n    onSubmit(formQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <SearchbarStyled>\n      <SearchFormStyled onSubmit={formSubmit}>\n        <SearchFormButtonLabelStyled>\n          <SearchFormInputStyled\n            name=\"searchQuery\"\n            value={searchQuery}\n            onChange={inputQueryChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search movies\"\n          />\n        </SearchFormButtonLabelStyled>\n        <SearchFormButtonStyled type=\"submit\" disabled={status === \"pending\"}>\n          <FaSearch />\n          <SearchFormButtonSpanStyled>Search</SearchFormButtonSpanStyled>\n        </SearchFormButtonStyled>\n      </SearchFormStyled>\n    </SearchbarStyled>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n  status: PropTypes.string,\n};\n\nexport default function MoviesPage({ onSubmit, status, query, page, setStatus }) {\n  const [searchMovies, setSearchMovies] = useState(null);\n  const location = useLocation();\n  useEffect(() => {\n    if ((query === '')) {\n      return;\n    }\n    setStatus(Status.PENDING);\n    getSearchMovies(query, page)\n    .then(newSearchMovies => {\n      if (!newSearchMovies?.results?.length) {\n        toast(`No results for ${query}`);\n      }\n      setSearchMovies(newSearchMovies);\n      setStatus(Status.RESOLVED);\n    })\n      .catch((error) => toast(\"No results, please try again\"));\n  }, [page, query,setStatus]);\n\n  useEffect(() => {\n    console.log('MoviesPage mounted');\n    return () => {\n      console.log('MoviesPage UNmounted');\n      setSearchMovies(null);\n    };\n  }, []);\n\n\n  \n  const hasRequestMovies = searchMovies?.results?.length > 0;\n  const goBackURL = location?.state?.from ?? \"/\";\n  return (\n    <div>\n      <Searchbar onSubmit={onSubmit} status={status} />\n      <Link to={goBackURL}>&lArr; Go back</Link>\n      <ul>\n        {hasRequestMovies &&\n          searchMovies.results.map((item) => <ListItem key={item.id} item={item} />)}\n      </ul>\n    </div>\n  );\n}\n\nMoviesPage.propTypes = {\n  onSubmit: PropTypes.func,\n  status: PropTypes.string,\n  query:PropTypes.string, \n  page:PropTypes.number,\n  setStatus: PropTypes.func,\n};\n","import styled from \"styled-components\";\n\nconst SearchbarStyled = styled.header`\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n`;\n\nconst SearchFormStyled = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst SearchFormButtonStyled = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  :hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchFormButtonSpanStyled = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst SearchFormButtonLabelStyled = styled.label`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n`;\n\nconst SearchFormInputStyled = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 16px;\n  padding-right: 4px;\n\n  ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport {\n  SearchbarStyled,\n  SearchFormStyled,\n  SearchFormButtonStyled,\n  SearchFormButtonSpanStyled,\n  SearchFormInputStyled,\n  SearchFormButtonLabelStyled\n};\n","import axios from \"axios\";\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\nconst MOVIE_API_KEY = \"a89b03c28f1cd3b25a7da78bf74e4fe0\";\n\nasync function getMoviesOrError(url, query = \"\") {\n  const response = await axios.get(url);\n  return !response?.data\n    ? Promise.reject(new Error(`No results for query ${query}`))\n    : response.data;\n}\n\nexport async function getTrendingDayMovies(page=1) {\n  return await getMoviesOrError(\n    `/trending/movie/day?api_key=${MOVIE_API_KEY}&page=${page}&include_adult=false`,\n  );\n}\n\nexport async function getSearchMovies(query, page=1) {\n  return await getMoviesOrError(\n    `/search/movie?query=${query}&api_key=${MOVIE_API_KEY}&page=${page}&include_adult=false`,\n  );\n}\n  \n  export async function getMovieDetails(movieId) {\n    return await getMoviesOrError(\n      `/movie/${movieId}?api_key=${MOVIE_API_KEY}`,\n    );\n  } \n\n  export async function getMovieCredits(movieId) {\n    return await getMoviesOrError(\n      `/movie/${movieId}/credits?api_key=${MOVIE_API_KEY}`,\n    );\n  } \n\n  export async function getMovieReviews(movieId, page=1) {\n    return await getMoviesOrError(\n      `/movie/${movieId}/reviews?api_key=${MOVIE_API_KEY}&page=${page}`,\n    );\n  } \n\n"],"names":["ListItem","item","id","title","name","to","Searchbar","onSubmit","status","useState","searchQuery","setSearchQuery","SearchbarStyled","SearchFormStyled","e","preventDefault","formQuery","trim","toast","SearchFormButtonLabelStyled","SearchFormInputStyled","value","onChange","target","toLowerCase","type","autoComplete","autoFocus","placeholder","SearchFormButtonStyled","disabled","SearchFormButtonSpanStyled","MoviesPage","query","page","setStatus","searchMovies","setSearchMovies","location","useLocation","useEffect","Status","getSearchMovies","then","newSearchMovies","results","length","catch","error","console","log","hasRequestMovies","goBackURL","state","from","map","styled","axios","MOVIE_API_KEY","getMoviesOrError","url","response","data","Promise","reject","Error","getTrendingDayMovies","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}